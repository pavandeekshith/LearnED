{"version":3,"file":"static/js/358.fff0e99f.chunk.js","mappings":"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","sources":["pages/AdminDashboard.js"],"sourcesContent":["import React from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useAdmin } from '../contexts/AdminContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst AdminDashboard = () => {\n  const { user, logout } = useAuth();\n  const { adminData } = useAdmin();\n  const navigate = useNavigate();\n\n  const { stats, recentActivity } = adminData;\n\n  const handleLogout = async () => {\n    await logout();\n    navigate('/');\n  };\n\n  const formatActivityDescription = (activity) => {\n    if (activity.description) {\n      return activity.description;\n    }\n    \n    // Generate user-friendly descriptions based on action_type and table_name\n    const userName = activity.users ? `${activity.users.first_name} ${activity.users.last_name}` : 'Someone';\n    \n    switch (activity.action_type) {\n      case 'INSERT':\n        if (activity.table_name === 'students') return `New student registered: ${userName}`;\n        if (activity.table_name === 'teachers') return `New teacher added: ${userName}`;\n        if (activity.table_name === 'classrooms') return `New classroom created`;\n        break;\n      case 'UPDATE':\n        if (activity.table_name === 'students') return `Student updated: ${userName}`;\n        if (activity.table_name === 'teachers') return `Teacher updated: ${userName}`;\n        if (activity.table_name === 'classrooms') return `Classroom updated`;\n        break;\n      case 'DELETE':\n        if (activity.table_name === 'students') return `Student removed: ${userName}`;\n        if (activity.table_name === 'teachers') return `Teacher removed: ${userName}`;\n        if (activity.table_name === 'classrooms') return `Classroom deleted`;\n        break;\n      default:\n        return `${activity.action_type} on ${activity.table_name}`;\n    }\n    \n    return `${activity.action_type} on ${activity.table_name}`;\n  };\n\n  const formatTimeAgo = (dateString) => {\n    const now = new Date();\n    const activityDate = new Date(dateString);\n    const diffInHours = Math.floor((now - activityDate) / (1000 * 60 * 60));\n    \n    if (diffInHours < 1) return 'Less than an hour ago';\n    if (diffInHours < 24) return `${diffInHours} hour${diffInHours > 1 ? 's' : ''} ago`;\n    \n    const diffInDays = Math.floor(diffInHours / 24);\n    if (diffInDays < 7) return `${diffInDays} day${diffInDays > 1 ? 's' : ''} ago`;\n    \n    return activityDate.toLocaleDateString();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <header className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center\">\n            <h1 className=\"text-3xl font-bold text-gray-900\">Admin Dashboard</h1>\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-gray-700\">Welcome, {user?.email}</span>\n              <button\n                onClick={handleLogout}\n                className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n          \n          {/* Admin Navigation Tabs */}\n          <nav className=\"mt-6\">\n            <div className=\"flex space-x-8\">\n              <button\n                onClick={() => navigate('/admin/dashboard')}\n                className=\"border-b-2 border-blue-500 text-blue-600 px-3 py-2 font-medium text-sm\"\n              >\n                Dashboard\n              </button>\n              <button\n                onClick={() => navigate('/admin/classrooms')}\n                className=\"text-gray-500 hover:text-gray-700 px-3 py-2 font-medium text-sm\"\n              >\n                Classrooms\n              </button>\n              <button\n                onClick={() => navigate('/admin/teachers')}\n                className=\"text-gray-500 hover:text-gray-700 px-3 py-2 font-medium text-sm\"\n              >\n                Teachers\n              </button>\n              <button\n                onClick={() => navigate('/admin/students')}\n                className=\"text-gray-500 hover:text-gray-700 px-3 py-2 font-medium text-sm\"\n              >\n                Students\n              </button>\n            </div>\n          </nav>\n        </div>\n      </header>\n      <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h2 className=\"text-2xl font-semibold mb-6\">Overview</h2>\n            \n            {/* Dashboard Stats */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n              <div className=\"bg-blue-50 p-6 rounded-lg\">\n                <h3 className=\"text-lg font-semibold text-blue-800 mb-2\">Total Classrooms</h3>\n                <p className=\"text-3xl font-bold text-blue-600\">\n                  {stats.totalClassrooms}\n                </p>\n                <p className=\"text-sm text-blue-600 mt-1\">Active classrooms</p>\n              </div>\n              \n              <div className=\"bg-green-50 p-6 rounded-lg\">\n                <h3 className=\"text-lg font-semibold text-green-800 mb-2\">Total Teachers</h3>\n                <p className=\"text-3xl font-bold text-green-600\">\n                  {stats.totalTeachers}\n                </p>\n                <p className=\"text-sm text-green-600 mt-1\">Active teachers</p>\n              </div>\n              \n              <div className=\"bg-purple-50 p-6 rounded-lg\">\n                <h3 className=\"text-lg font-semibold text-purple-800 mb-2\">Total Students</h3>\n                <p className=\"text-3xl font-bold text-purple-600\">\n                  {stats.totalStudents}\n                </p>\n                <p className=\"text-sm text-purple-600 mt-1\">Enrolled students</p>\n              </div>\n              \n              <div className=\"bg-yellow-50 p-6 rounded-lg\">\n                <h3 className=\"text-lg font-semibold text-yellow-800 mb-2\">Active Sessions</h3>\n                <p className=\"text-3xl font-bold text-yellow-600\">\n                  {stats.activeSessions}\n                </p>\n                <p className=\"text-sm text-yellow-600 mt-1\">Live classes</p>\n              </div>\n            </div>\n\n            {/* Quick Actions */}\n            <div className=\"mb-8\">\n              <h3 className=\"text-xl font-semibold mb-4\">Quick Actions</h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <button\n                  onClick={() => navigate('/admin/classrooms')}\n                  className=\"bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-lg text-center\"\n                >\n                  <div className=\"text-lg font-semibold\">Manage</div>\n                  <div className=\"text-sm\">Classrooms</div>\n                </button>\n                \n                <button\n                  onClick={() => navigate('/admin/teachers')}\n                  className=\"bg-green-500 hover:bg-green-600 text-white p-4 rounded-lg text-center\"\n                >\n                  <div className=\"text-lg font-semibold\">Manage</div>\n                  <div className=\"text-sm\">Teachers</div>\n                </button>\n                \n                <button\n                  onClick={() => navigate('/admin/students')}\n                  className=\"bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-lg text-center\"\n                >\n                  <div className=\"text-lg font-semibold\">Manage</div>\n                  <div className=\"text-sm\">Students</div>\n                </button>\n                \n                <button className=\"bg-gray-500 hover:bg-gray-600 text-white p-4 rounded-lg text-center\">\n                  <div className=\"text-lg font-semibold\">View</div>\n                  <div className=\"text-sm\">Reports</div>\n                </button>\n              </div>\n            </div>\n\n            {/* Recent Activity */}\n            <div>\n              <h3 className=\"text-xl font-semibold mb-4\">Recent Activity</h3>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                {recentActivity.length > 0 ? (\n                  <div className=\"space-y-3\">\n                    {recentActivity.map((activity) => (\n                      <div key={activity.id} className=\"flex items-center justify-between\">\n                        <span className=\"text-sm text-gray-600\">\n                          {formatActivityDescription(activity)}\n                        </span>\n                        <span className=\"text-xs text-gray-400\">\n                          {formatTimeAgo(activity.created_at)}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"text-center text-gray-500\">No recent activity</div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"names":["AdminDashboard","user","logout","useAuth","adminData","useAdmin","navigate","useNavigate","stats","recentActivity","formatActivityDescription","activity","description","userName","users","concat","first_name","last_name","action_type","table_name","formatTimeAgo","dateString","now","Date","activityDate","diffInHours","Math","floor","diffInDays","toLocaleDateString","_jsxs","className","children","_jsx","email","onClick","async","totalClassrooms","totalTeachers","totalStudents","activeSessions","length","map","created_at","id"],"sourceRoot":""}