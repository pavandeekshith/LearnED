{"version":3,"file":"static/js/412.9787c1a7.chunk.js","mappings":"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","sources":["components/ClassroomList.js","pages/AdminClassrooms.js"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { useAdmin } from '../contexts/AdminContext';\nimport { supabase } from '../lib/supabaseClient';\n\nconst ClassroomList = ({ boardFilter: externalBoardFilter, gradeFilter: externalGradeFilter }) => {\n  const { adminData } = useAdmin();\n  const [editId, setEditId] = useState(null);\n  const [editData, setEditData] = useState({});\n  const [boards, setBoards] = useState([]);\n  const [grades, setGrades] = useState([]);\n  const [boardFilter, setBoardFilter] = useState('');\n  const [gradeFilter, setGradeFilter] = useState('');\n\n  const classrooms = adminData.classrooms || [];\n\n  // Update internal filters when external filters change\n  useEffect(() => {\n    if (externalBoardFilter !== undefined) setBoardFilter(externalBoardFilter);\n    if (externalGradeFilter !== undefined) setGradeFilter(externalGradeFilter);\n  }, [externalBoardFilter, externalGradeFilter]);\n\n  // Update filter options when classrooms data changes\n  useEffect(() => {\n    if (classrooms.length > 0) {\n      setBoards([...new Set(classrooms.map(c => c.board).filter(Boolean))]);\n      setGrades([...new Set(classrooms.map(c => c.grade_level).filter(Boolean))]);\n    }\n  }, [classrooms]);\n\n  // Filter classrooms client-side\n  const filteredClassrooms = classrooms.filter(cls => {\n    return (\n      (!boardFilter || cls.board === boardFilter) &&\n      (!gradeFilter || String(cls.grade_level) === String(gradeFilter))\n    );\n  });\n\n  // Get pricing for different plans\n  const getPrice = (classroom, planType) => {\n    console.log('Getting price for classroom:', classroom.id, 'plan:', planType); // Debug log\n    console.log('Classroom pricing:', classroom.classroom_pricing); // Debug log\n    \n    if (!classroom.classroom_pricing) return '-';\n    \n    // Look for pricing by billing_cycle or payment_plan_id\n    const pricing = classroom.classroom_pricing.find(p => \n      p.payment_plan_id === planType || \n      p.payment_plans?.billing_cycle === planType ||\n      p.payment_plans?.id === planType\n    );\n    \n    console.log('Found pricing:', pricing); // Debug log\n    return pricing?.price || '-';\n  };\n\n  const getPricingId = (classroom, planType) => {\n    if (!classroom.classroom_pricing) return null;\n    \n    const pricing = classroom.classroom_pricing.find(p => \n      p.payment_plan_id === planType || \n      p.payment_plans?.billing_cycle === planType ||\n      p.payment_plans?.id === planType\n    );\n    return pricing?.id;\n  };\n\n  const handleEdit = (cls) => {\n    setEditId(cls.id);\n    setEditData({ \n      ...cls, \n      monthly_price: getPrice(cls, 'monthly'),\n      quarterly_price: getPrice(cls, 'quarterly'), \n      yearly_price: getPrice(cls, 'yearly'),\n      teacher_name: cls.teachers?.users?.first_name + ' ' + cls.teachers?.users?.last_name || ''\n    });\n  };\n\n  const handleEditChange = (e) => {\n    setEditData({ ...editData, [e.target.name]: e.target.value });\n  };\n\n    const handleSave = async () => {\n    // Update classroom fields\n    await supabase.from('classrooms').update({\n      name: editData.name,\n      board: editData.board,\n      grade_level: editData.grade_level,\n      subject: editData.subject\n    }).eq('id', editId);\n    \n    // Update or insert pricing for each plan\n    const plans = [ 'monthly','quarterly', 'yearly'];\n    for (const plan of plans) {\n      const price = editData[`${plan}_price`];\n      const pricingId = getPricingId(classrooms.find(c => c.id === editId), plan);\n      \n      if (price && price !== '-') {\n        if (pricingId) {\n          // Update existing pricing\n          await supabase.from('classroom_pricing').update({ price }).eq('id', pricingId);\n        } else {\n          // Insert new pricing\n          await supabase.from('classroom_pricing').insert({\n            classroom_id: editId,\n            payment_plan_id: plan,\n            price\n          });\n        }\n      } else if (pricingId) {\n        // Delete pricing if price is empty or '-'\n        await supabase.from('classroom_pricing').delete().eq('id', pricingId);\n      }\n    }\n    \n    setEditId(null);\n    fetchClassrooms();\n  };\n\n  return (\n    <div>\n      <h4 className=\"font-semibold mb-2\">Existing Classrooms</h4>\n      {classrooms.length === 0 ? (\n        <div className=\"text-center py-4 text-gray-500\">No classrooms found</div>\n      ) : (\n        <>\n          {/* Debug section - remove this after testing */}\n          {/* <div className=\"mb-4 p-2 bg-gray-100 text-xs\">\n            <strong>Debug Info:</strong>\n            <div>Total classrooms: {classrooms.length}</div>\n            {classrooms.length > 0 && (\n              <div>First classroom pricing: {JSON.stringify(classrooms[0].classroom_pricing, null, 2)}</div>\n            )}\n          </div> */}\n          \n          <div className=\"flex gap-2 mb-2\">\n            <select value={boardFilter} onChange={e => setBoardFilter(e.target.value)} className=\"border px-2 py-1 rounded\">\n              <option value=\"\">All Boards</option>\n              {boards.map(b => <option key={b} value={b}>{b}</option>)}\n            </select>\n            <select value={gradeFilter} onChange={e => setGradeFilter(e.target.value)} className=\"border px-2 py-1 rounded\">\n              <option value=\"\">All Grades</option>\n              {grades.map(g => <option key={g} value={g}>{g}</option>)}\n            </select>\n          </div>\n          <table className=\"min-w-full border text-sm\">\n            <thead>\n              <tr>\n                <th className=\"border px-2 py-1\">Name</th>\n                <th className=\"border px-2 py-1\">Board</th>\n                <th className=\"border px-2 py-1\">Grade</th>\n                <th className=\"border px-2 py-1\">Subject</th>\n                <th className=\"border px-2 py-1\">Teacher</th>\n                <th className=\"border px-2 py-1\">Monthly Price</th>\n                <th className=\"border px-2 py-1\">Quarterly Price</th>\n                <th className=\"border px-2 py-1\">Yearly Price</th>\n                <th className=\"border px-2 py-1\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredClassrooms.map((cls) => (\n                <tr key={cls.id}>\n                  {editId === cls.id ? (\n                    <>\n                      <td className=\"border px-2 py-1\"><input name=\"name\" value={editData.name} onChange={handleEditChange} className=\"border rounded px-1\" /></td>\n                      <td className=\"border px-2 py-1\"><input name=\"board\" value={editData.board} onChange={handleEditChange} className=\"border rounded px-1\" /></td>\n                      <td className=\"border px-2 py-1\"><input name=\"grade_level\" value={editData.grade_level} onChange={handleEditChange} className=\"border rounded px-1\" /></td>\n                      <td className=\"border px-2 py-1\"><input name=\"subject\" value={editData.subject} onChange={handleEditChange} className=\"border rounded px-1\" /></td>\n                      <td className=\"border px-2 py-1\"><span className=\"text-gray-600\">{editData.teacher_name}</span></td>\n                      <td className=\"border px-2 py-1\"><input name=\"monthly_price\" value={editData.monthly_price} onChange={handleEditChange} className=\"border rounded px-1\" /></td>\n                      <td className=\"border px-2 py-1\"><input name=\"quarterly_price\" value={editData.quarterly_price} onChange={handleEditChange} className=\"border rounded px-1\" /></td>\n                      <td className=\"border px-2 py-1\"><input name=\"yearly_price\" value={editData.yearly_price} onChange={handleEditChange} className=\"border rounded px-1\" /></td>\n                      <td className=\"border px-2 py-1\">\n                        <button onClick={handleSave} className=\"bg-green-500 text-white px-2 py-1 rounded mr-1\">Save</button>\n                        <button onClick={() => setEditId(null)} className=\"bg-gray-400 text-white px-2 py-1 rounded\">Cancel</button>\n                      </td>\n                    </>\n                  ) : (\n                    <>\n                      <td className=\"border px-2 py-1\">{cls.name}</td>\n                      <td className=\"border px-2 py-1\">{cls.board}</td>\n                      <td className=\"border px-2 py-1\">{cls.grade_level}</td>\n                      <td className=\"border px-2 py-1\">{cls.subject}</td>\n                      <td className=\"border px-2 py-1\">{cls.teachers?.users?.first_name + ' ' + cls.teachers?.users?.last_name || 'No Teacher'}</td>\n                      <td className=\"border px-2 py-1\">{getPrice(cls, 'monthly')}</td>\n                      <td className=\"border px-2 py-1\">{getPrice(cls, 'quarterly')}</td>\n                      <td className=\"border px-2 py-1\">{getPrice(cls, 'yearly')}</td>\n                      <td className=\"border px-2 py-1\">\n                        <button onClick={() => handleEdit(cls)} className=\"bg-yellow-500 text-white px-2 py-1 rounded\">Edit</button>\n                      </td>\n                    </>\n                  )}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ClassroomList;\n","import React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport ClassroomList from '../components/ClassroomList';\n\nconst AdminClassrooms = () => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const [boardFilter, setBoardFilter] = useState('');\n  const [gradeFilter, setGradeFilter] = useState('');\n\n  const handleLogout = async () => {\n    await logout();\n    navigate('/');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <header className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center\">\n            <h1 className=\"text-3xl font-bold text-gray-900\">Classroom Management</h1>\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-gray-700\">Welcome, {user?.email}</span>\n              <button\n                onClick={handleLogout}\n                className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n          \n          {/* Admin Navigation Tabs */}\n          <nav className=\"mt-6\">\n            <div className=\"flex space-x-8\">\n              <button\n                onClick={() => navigate('/admin/dashboard')}\n                className=\"text-gray-500 hover:text-gray-700 px-3 py-2 font-medium text-sm\"\n              >\n                Dashboard\n              </button>\n              <button\n                onClick={() => navigate('/admin/classrooms')}\n                className=\"border-b-2 border-blue-500 text-blue-600 px-3 py-2 font-medium text-sm\"\n              >\n                Classrooms\n              </button>\n              <button\n                onClick={() => navigate('/admin/teachers')}\n                className=\"text-gray-500 hover:text-gray-700 px-3 py-2 font-medium text-sm\"\n              >\n                Teachers\n              </button>\n              <button\n                onClick={() => navigate('/admin/students')}\n                className=\"text-gray-500 hover:text-gray-700 px-3 py-2 font-medium text-sm\"\n              >\n                Students\n              </button>\n            </div>\n          </nav>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"mb-6\">\n              <h2 className=\"text-2xl font-semibold mb-4\">Manage Classrooms</h2>\n              <div className=\"flex gap-4 mb-4\">\n                <button className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md\">\n                  Add New Classroom\n                </button>\n                <button className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md\">\n                  Delete Selected\n                </button>\n              </div>\n              \n              {/* Filters */}\n              <div className=\"flex gap-4 mb-4\">\n                <select\n                  value={boardFilter}\n                  onChange={(e) => setBoardFilter(e.target.value)}\n                  className=\"border border-gray-300 rounded-md px-3 py-2\"\n                >\n                  <option value=\"\">All Boards</option>\n                  <option value=\"CBSE\">CBSE</option>\n                  <option value=\"ICSE\">ICSE</option>\n                  <option value=\"IGCSE\">IGCSE</option>\n                </select>\n                \n                <select\n                  value={gradeFilter}\n                  onChange={(e) => setGradeFilter(e.target.value)}\n                  className=\"border border-gray-300 rounded-md px-3 py-2\"\n                >\n                  <option value=\"\">All Grades</option>\n                  <option value=\"6\">Grade 6</option>\n                  <option value=\"7\">Grade 7</option>\n                  <option value=\"8\">Grade 8</option>\n                  <option value=\"9\">Grade 9</option>\n                  <option value=\"10\">Grade 10</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Classroom List Component */}\n            <ClassroomList boardFilter={boardFilter} gradeFilter={gradeFilter} />\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default AdminClassrooms;\n"],"names":["_ref","boardFilter","externalBoardFilter","gradeFilter","externalGradeFilter","adminData","useAdmin","editId","setEditId","useState","editData","setEditData","boards","setBoards","grades","setGrades","setBoardFilter","setGradeFilter","classrooms","useEffect","undefined","length","Set","map","c","board","filter","Boolean","grade_level","filteredClassrooms","cls","String","getPrice","classroom","planType","console","log","id","classroom_pricing","pricing","find","p","_p$payment_plans","_p$payment_plans2","payment_plan_id","payment_plans","billing_cycle","price","getPricingId","_p$payment_plans3","_p$payment_plans4","handleEditChange","e","_objectSpread","target","name","value","handleSave","async","supabase","from","update","subject","eq","plans","plan","concat","pricingId","insert","classroom_id","delete","fetchClassrooms","_jsxs","children","_jsx","className","_Fragment","onChange","b","g","_cls$teachers3","_cls$teachers3$users","_cls$teachers4","_cls$teachers4$users","teacher_name","monthly_price","quarterly_price","yearly_price","onClick","teachers","users","first_name","last_name","_cls$teachers","_cls$teachers$users","_cls$teachers2","_cls$teachers2$users","handleEdit","AdminClassrooms","user","logout","useAuth","navigate","useNavigate","email","ClassroomList"],"sourceRoot":""}